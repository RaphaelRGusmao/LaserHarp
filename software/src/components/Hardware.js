/******************************************************************************/
/*                                 LaserHarp                                  */
/*                          Raphael dos Reis Gusmao                           */
/*                                                                            */
/*                            Component: Hardware                             */
/******************************************************************************/

/******************************************************************************/
/* Hardware                                                                   */
/******************************************************************************/
export class Hardware {
  serial = null
  is_active = false

  /****************************************************************************/
  /* Methods                                                                  */
  /****************************************************************************/
  constructor() {}

  /****************************************************************************/
  setSerial = (serial) => {
    this.serial = serial
    if (serial == null) {
      this.is_active = false
    }
  }

  /****************************************************************************/
  isActive = () => {
    return this.is_active
  }

  /****************************************************************************/
  isConnected = () => {
    return this.serial != null
  }

  /****************************************************************************/
  disconnect = () => {
    this.serial.close()
  }

  /****************************************************************************/
  start = (params) => {
    if (!this.isActive()) {
      console.log("%c" + params, "background: #009696; color: #ffffff;")
      this.serial.write(params)
      this.is_active = true
    }
  }

  /****************************************************************************/
  pause = () => {
    if (this.isActive()) {
      console.log("%cPAUSE", "background: #009696; color: #ffffff;")
      this.serial.write("PAUSE")
      this.is_active = false
    }
  }
}

/******************************************************************************/
